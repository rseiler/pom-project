<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2015-02-15 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>pom &#x2013; Usage</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20150215" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                pom
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2015-02-15</span>
                  &nbsp;| <span id="projectVersion">Version: 1.1</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
            <strong>Usage</strong>
          </li>
                  <li class="none">
                          <a href="maven-profiles.html" title="Maven Profiles">Maven Profiles</a>
            </li>
                  <li class="none">
                          <a href="unit-tests.html" title="Unit Tests">Unit Tests</a>
            </li>
          </ul>
                       <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../../pom-project/index.html" title="pom-project">pom-project</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                    <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                        <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <h1>Usage</h1>
<p>To use this POM as parent POM add this configuration to your POM:</p>

<div class="source">
<div class="source">
<pre>&lt;parent&gt;
    &lt;groupId&gt;at.rseiler.pom-project&lt;/groupId&gt;
    &lt;artifactId&gt;pom&lt;/artifactId&gt;
    &lt;version&gt;1.1&lt;/version&gt;
&lt;/parent&gt;
</pre></div></div>
<p>Then your own parent POM must define this property:</p>

<div class="source">
<div class="source">
<pre>&lt;properties&gt;
    &lt;main.basedir&gt;${project.basedir}&lt;/main.basedir&gt;
&lt;/properties&gt;
</pre></div></div>
<p>The all sub modules must define this property:</p>

<div class="source">
<div class="source">
<pre>&lt;properties&gt;
    &lt;main.basedir&gt;${project.parent.basedir}&lt;/main.basedir&gt;
&lt;/properties&gt;
</pre></div></div>
<p>That&#x2019;s needed to correctly reference the configuration files for the static code analysis.</p>
<div class="section">
<h2><a name="Features_and_Tips__Tricks"></a>Features and Tips &amp; Tricks</h2>
<div class="section">
<h3><a name="Static_Code_Analysis"></a>Static Code Analysis</h3>
<p>If not <a href="maven-profiles.html">disabled</a> than the static code analysis are executed by default. If a major issue is found than the build will fail.</p>
<div class="section">
<h4><a name="Disabling_for_a_specific_module"></a>Disabling for a specific module</h4>
<p>To disable the static code analysis for a specific module just set the <tt>skipCodeAnalysis</tt> property to <tt>true</tt>:</p>

<div class="source">
<div class="source">
<pre>&lt;properties&gt;
    &lt;skipCodeAnalysis&gt;true&lt;/skipCodeAnalysis&gt;
&lt;/properties&gt;
</pre></div></div>
<p>This makes sense if there is no Java code in the module to check.</p></div>
<div class="section">
<h4><a name="Config"></a>Config</h4>
<p>The configuration for the static code analysis tools will automatically be unpacked to <tt>${project.basedir}/config/code-analysis</tt>.</p>

<ul>
  
<li>checkstyle.xml</li>
  
<li>checkstyle-suppressions.xml</li>
  
<li>pmd-ruleset.xml</li>
</ul>
<p>If you want to provide these files yourself than disable the unpacking like this:</p>

<div class="source">
<div class="source">
<pre>&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;unpack&lt;/id&gt;
                    &lt;phase&gt;none&lt;/phase&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</pre></div></div></div>
<div class="section">
<h4><a name="FindBugs"></a>FindBugs</h4>
<p>If Dependency Injection is used with setters or with fields than FindBugs needs to be configured to ignore the <tt>UWF_FIELD_NOT_INITIALIZED_IN_CONSTRUCTOR: Field not initialized in constructor but dereferenced without null check</tt> check. Sadly it&#x2019;s not possible to use the annotations (@Autowired or @Inject) to suppress this check. It&#x2019;s needed to use the name of the class or the name of the field.</p>
<p><b>Example</b></p>
<p>First create the <tt>file://${project.basedir}/config/code-analysis/findbugs-exclude.xml</tt> which should like this:</p>

<div class="source">
<div class="source">
<pre>&lt;FindBugsFilter&gt;
    &lt;Match&gt;
        &lt;Or&gt;
            &lt;Class name=&quot;~.*Service&quot;/&gt;
            &lt;Class name=&quot;~.*ServiceImpl&quot;/&gt;
            &lt;Class name=&quot;~.*Controller&quot;/&gt;
            &lt;Class name=&quot;~.*Interceptor&quot;/&gt;
            &lt;Class name=&quot;~.*Validator&quot;/&gt;
            &lt;Field name=&quot;~.*Service&quot;/&gt;
            &lt;Field name=&quot;~.*Controller&quot;/&gt;
            &lt;Field name=&quot;~.*Interceptor&quot;/&gt;
            &lt;Field name=&quot;~.*Validator&quot;/&gt;
        &lt;/Or&gt;
        &lt;Bug pattern=&quot;UWF_FIELD_NOT_INITIALIZED_IN_CONSTRUCTOR&quot;/&gt;
    &lt;/Match&gt;
&lt;/FindBugsFilter&gt;
</pre></div></div>
<p>Then configure the <i>findbugs-maven-plugin</i>:</p>

<div class="source">
<div class="source">
<pre>&lt;build&gt;
    &lt;pluginManagement&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
                &lt;artifactId&gt;findbugs-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;excludeFilterFile&gt;${main.basedir}/config/code-analysis/findbugs-exclude.xml&lt;/excludeFilterFile&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/pluginManagement&gt;
&lt;/build&gt;
</pre></div></div></div></div>
<div class="section">
<h3><a name="Disable_Unit_Tests_for_a_specific_module"></a>Disable Unit Tests for a specific module</h3>
<p>To disable the unit tests for a specific module just set the <tt>skipTests</tt> property to <tt>true</tt>:</p>

<div class="source">
<div class="source">
<pre>&lt;properties&gt;
    &lt;skipTests&gt;true&lt;/skipTests&gt;
&lt;/properties&gt;
</pre></div></div></div>
<div class="section">
<h3><a name="Build"></a>Build</h3>
<p>Nothing is changed. Just use maven:</p>

<div class="source">
<div class="source">
<pre>mvn clean install
</pre></div></div></div>
<div class="section">
<h3><a name="Parallel_Build"></a>Parallel Build</h3>
<p>In a multi module maven project it&#x2019;s possible to build the modules in parallel - if the dependencies allow it.</p>
<p>Use the <tt>-T</tt> argument. Ether define a fix thread count with <tt>-T 4</tt> or define the thread depended on the cores of the computer with <tt>-T 2C</tt>. 2C means for each core 2 threads should be used. E.g.: 4 cores =&gt; 8 threads.</p>

<div class="source">
<div class="source">
<pre>mvn install -T 4
mvn install -T 2C
</pre></div></div></div>
<div class="section">
<h3><a name="Speed_Up_the_Build"></a>Speed Up the Build</h3>
<p>There is another option to speed up the build. With the <tt>-o</tt> (offline) argument maven won&#x2019;t check and download the dependencies which gives you a speed boost. But be careful. If a there is a dependency which isn&#x2019;t in your local repository than the build will fail.</p>

<div class="source">
<div class="source">
<pre>mvn install -o
mvn install -o -T 2C
</pre></div></div></div>
<div class="section">
<h3><a name="Documentation"></a>Documentation</h3>
<p>To generate the documentation use maven site:</p>

<div class="source">
<div class="source">
<pre>mvn clean test site -P execITs,!staticCodeAnalysis
</pre></div></div>

<ul>
  
<li>disable the static code analysis because the static code analysis are executed from the report plugins</li>
  
<li>execute the integration tests for the coverage report</li>
</ul></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2015.
          All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
